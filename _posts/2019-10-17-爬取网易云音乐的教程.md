---
layout:     post                                               # 使用的布局（不需要改）
title:      来爬个虫 | 教你如何爬取 网易云音乐 的评论                    # 标题 
subtitle:   最佳乐评我知道                                 # 副标题
date:       2019-10-17                                        # 时间
author:     BenYourKing                                       # 作者
header-img: img/office-1.jpg                             # 这篇文章标题背景图片
catalog: true                                                 # 是否归档
tags:                                                         # 标签
    - Tutorial
    - 爬虫
---


> The bug forces the software to apdate ,evolve into something new because of it,               
> work around it or work through it .                   
> No matter what ，it changes ，it become something new，the next version，the inevitable upgrade.              


### 引言 

来爬个虫，本期我们的目标是爬取**网易云音乐歌曲的评论信息**，            

这些评论信息对我们有什么用呢？             
1. 首先，我们可以知道**每首歌的评论数**，以此来模糊判断歌曲的**受欢迎程度**；
2. 其次，我们可以知道**歌曲的评论信息**，**热评**，里面你会发现大家各个都是人才； 
3. 最后，我们可以知道**用户的评论行为**，如果你进一步抓取用户ID，你可以知道ta的**听歌、歌单、个人信息等**。

![](https://ftp.bmp.ovh/imgs/2019/10/f012fc8f8528d478.jpg)

### 免责声明

为了避免网易云音乐给我寄送律师函警告，首先当然是要来一个免责声明。本博客代码内容参考了[music163crawler](https://github.com/RitterHou/music-163)的代码，如有侵犯网易云音乐公司以及用户的权利，请联系本人进行及时删除。      
   
本帖仅供技术探讨和交流，请不要用做商业和盈利用途。顺便说一句，我的手机里只有[网易云音乐](https://music.163.com)这款APP，希望网易云音乐越来越好！   


### 爬虫逻辑
            
> 古人云：知己知彼，百战百胜。     
> 尼古拉斯·本拉钦云：来爬个虫，先看网页！      
        
             
第①步，先打开，网页版的[网易云音乐](https://music.163.com)                         
我们的目标是**爬取网易云音乐所有歌曲下面的热门评论和最新评论**（*假设就爬20条，或者全部，你开心就好！*）。           
那么我们首先需要了解网易云音乐的架构，根据这个架构确定爬虫的逻辑。          
            
#### URL规律

我们知道，当我们要大规模爬取一个网站上的信息的时候，我们首要确定**URL变化的规律**，才能够用循环语句遍历所有的网页。           
                
以[李荣浩的《年少有为》](https://music.163.com/#/song?id=1293886117)为例，网址为`https://music.163.com/#/song?id=1293886117` ,不难发现，每首歌曲的网页网址为`https://music.163.com/#/song?id=` +`歌曲ID`,这里的歌曲ID，就类似于每个人的身份证号一样。
                
那么我们**如何知道所有全部歌曲的ID呢？**             
        
#### 爬虫逻辑

在歌手界面，[网易云音乐歌曲列表](https://music.163.com/#/discover/artist)，我们可以发现，歌手在一个组别下面


![](https://ftp.bmp.ovh/imgs/2019/10/0ae8a69eec924bf1.png)     





     

















































































